/* Christmas Animation Container */
.christmas-animation-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1000; /* Below modals but above content */
  overflow: hidden;
}

/* Snow Animation */
.snow-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.snowflake {
  position: absolute;
  top: -10px;
  color: #87CEEB; /* Sky blue color for better visibility */
  font-size: 2.5em; /* Increased from 1em to 2.5em for larger snowflakes */
  text-shadow: 
    0 0 10px rgba(135, 206, 235, 0.9),
    0 0 20px rgba(135, 206, 235, 0.7),
    2px 2px 4px rgba(0, 0, 0, 0.3); /* Multiple shadows for visibility */
  animation: fall linear infinite;
  user-select: none;
  pointer-events: none;
  filter: drop-shadow(0 0 5px rgba(135, 206, 235, 0.9));
  -webkit-text-stroke: 1px rgba(255, 255, 255, 0.8); /* White outline for contrast */
}

@keyframes fall {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(360deg);
    opacity: 0.3;
  }
}

/* Santa Animation - Emoji */
.santa-container {
  position: absolute;
  bottom: 20px;
  right: -200px;
  animation: santaWalk 150s linear infinite; /* 2.5 minutes total cycle */
  z-index: 1001;
}

@keyframes santaWalk {
  0% {
    right: -200px;
    transform: scaleX(1);
    opacity: 0;
  }
  1% {
    opacity: 1; /* Fade in quickly */
  }
  6.67% {
    /* Takes 10 seconds to cross (10/150 = 6.67%) */
    right: calc(100% + 200px);
    transform: scaleX(1);
    opacity: 1;
  }
  6.68% {
    opacity: 0; /* Fade out */
  }
  100% {
    right: -200px;
    transform: scaleX(1);
    opacity: 0; /* Stay hidden until next cycle */
  }
}

.santa-emoji {
  font-size: 90px; /* Reduced from 120px to 90px */
  line-height: 1;
  animation: santaDance 0.5s ease-in-out infinite;
  filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.3));
  user-select: none;
}

@keyframes santaDance {
  0%, 100% {
    transform: translateY(0) rotate(-5deg) scale(1);
  }
  50% {
    transform: translateY(-15px) rotate(5deg) scale(1.1);
  }
}

/* Reindeer Animation - Emoji */
.reindeer-container {
  position: absolute;
  bottom: 20px;
  right: -200px;
  animation: reindeerWalk 180s linear infinite; /* 3 minutes total cycle */
  z-index: 1001;
}

.reindeer-1 {
  animation-delay: 30s; /* First reindeer starts 30 seconds after Santa */
}

.reindeer-2 {
  animation-delay: 90s; /* Second reindeer starts 90 seconds after Santa (1.5 minutes) */
  bottom: 40px; /* Slightly higher position to avoid overlap */
}

@keyframes reindeerWalk {
  0% {
    right: -200px;
    transform: scaleX(1);
    opacity: 0;
  }
  0.56% {
    opacity: 1; /* Fade in quickly (1/180 = 0.56%) */
  }
  5.56% {
    /* Takes 10 seconds to cross (10/180 = 5.56%) */
    right: calc(100% + 200px);
    transform: scaleX(1);
    opacity: 1;
  }
  5.57% {
    opacity: 0; /* Fade out */
  }
  100% {
    right: -200px;
    transform: scaleX(1);
    opacity: 0; /* Stay hidden until next cycle */
  }
}

.reindeer-emoji {
  font-size: 70px; /* Reduced from 100px to 70px */
  line-height: 1;
  animation: reindeerBounce 0.6s ease-in-out infinite;
  filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.3));
  user-select: none;
}

@keyframes reindeerBounce {
  0%, 100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-12px) scale(1.05);
  }
}

/* Confetti Animation for New Year */
.confetti-container {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  pointer-events: none;
}

.confetti {
  position: absolute;
  top: -10px;
  width: 10px;
  height: 10px;
  animation: confettiFall 3s linear infinite;
  border-radius: 2px;
}

@keyframes confettiFall {
  0% {
    transform: translateY(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(720deg);
    opacity: 0;
  }
}

/* Mobile Optimizations */
@media (max-width: 768px) {
  .santa-container {
    bottom: 10px;
    /* Keep same 2.5 minute cycle on mobile */
  }

  .santa-emoji {
    font-size: 65px; /* Smaller on tablets (reduced from 80px) */
  }

  .reindeer-container {
    bottom: 10px;
    /* Keep same 3 minute cycle on mobile */
  }

  .reindeer-2 {
    bottom: 30px; /* Adjusted for mobile */
  }

  .reindeer-emoji {
    font-size: 55px; /* Smaller on tablets (reduced from 70px) */
  }

  .snowflake {
    font-size: 2em; /* Still large but slightly smaller on mobile */
  }
}

@media (max-width: 480px) {
  .santa-container {
    /* Keep same 2.5 minute cycle on mobile */
  }

  .santa-emoji {
    font-size: 50px; /* Smaller on phones (reduced from 60px) */
  }

  .reindeer-container {
    /* Keep same 3 minute cycle on mobile */
  }

  .reindeer-2 {
    bottom: 25px; /* Adjusted for small phones */
  }

  .reindeer-emoji {
    font-size: 40px; /* Smaller on phones (reduced from 50px) */
  }

  .snowflake {
    font-size: 1.8em; /* Still visible but adjusted for small screens */
  }
}

/* Performance optimizations */
.christmas-animation-container * {
  will-change: transform;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* Reduce animations on low-end devices */
@media (prefers-reduced-motion: reduce) {
  .santa-container,
  .reindeer-container {
    animation: none;
  }

  .santa-emoji,
  .reindeer-emoji {
    animation: none;
  }

  .snowflake,
  .confetti {
    animation: none;
  }
}

